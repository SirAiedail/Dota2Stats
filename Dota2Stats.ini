[Rainmeter]
Author=bo1g
Update=1000

[Metadata]
Name=Dota2Stats
Information=Display Dota 2 stats
License=None
Version=1.2.2

[Variables]

; This skin uses the data obtained through Dota2Stats at http://dotabuff.com/.

; --------------------------------
; Setup
; --------------------------------

; Go to https://dotabuff.com/
; Search for your username stats page
; Paste the URL below

URL="https://dotabuff.com/players/80817886"

; Below is the font color in hex code. '111111' is good for dark text and 'ffffff' is the default white.

Color=ffffff

; --------------------------------
; Do not edit beyond this point!
; --------------------------------

LocalFont="#SKINSPATH#Dota2Stats\Fonts\Cardo104s.ttf"
Font="Cardo"

; --------------------------------
; Measures
; --------------------------------

[MeasureUsername]
Measure=Plugin
Plugin=WebParser
UpdateRate=600
Url=#URL#
RegExp='(?siU)"content-header-title">\W*<h1>(.*)<s'
StringIndex=1

[MeasureWins]
Measure=Plugin
Plugin=WebParser
UpdateRate=600
Url=#URL#
RegExp='(?siU)<span class="wins">(.*)</span>'
StringIndex=1

[MeasureLosses]
Measure=Plugin
Plugin=WebParser
UpdateRate=600
Url=#URL#
RegExp='(?siU)<span class="losses">(.*)</span>'
StringIndex=1

[MeasureAbandons]
Measure=Plugin
Plugin=WebParser
UpdateRate=600
Url=#URL#
RegExp='(?siU)<span class="abandons">(.*)</span>'
StringIndex=1

[MeasureLossesFull]
Measure=calc
Formula=MeasureLosses + MeasureAbandons

[MeasureGames]
Measure=calc
Formula=MeasureWins + MeasureLossesFull

; [MeasureWinRate]
; Measure=calc
; Formula=(MeasureWins / MeasureGames) * 100

[MeasureWinRate]
Measure=Plugin
Plugin=WebParser
Url=#URL#
RegExp='(?siU)Win Rate.*<dd>(.*)<'
StringIndex=1

[MeasureHero]
Measure=Plugin
Plugin=WebParser
UpdateRate=600
Url=#URL#
RegExp='(?siU)<td class="cell-icon">.*<td>.*>(.*)<\/a>'
StringIndex=1

; --------------------------------
; Meters
; --------------------------------

[MeterLogo]
Meter=Image
X=1
Y=1
ImageName=Images\dota2.png
LeftMouseUpAction=!Execute ["#URL#"]

[MeterName]
MeasureName=MeasureUsername
Meter=String
X=99
Y=-12
FontColor=#Color#
FontSize=40
Text="%1"
FontFace=#Font#
AntiAlias=1
StringCase=UPPER

[MeterGames]
Meter=String
MeasureName=MeasureGames
X=105
Y=45
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="%1 Games Played"
AntiAlias=1

[MeterWinsLosses]
Meter=String
MeasureName=MeasureWins
MeasureName2=MeasureLossesFull
MeasureName3=MeasureWinRate
X=105
Y=64
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="%1 Wins | %2 Losses (%3)"
AntiAlias=1

; [MeterWinRate]
; Meter=String
; MeasureName=MeasureWinRate
; X=105
; Y=83
; FontColor=#Color#
; FontFace=#Font#
; FontSize=12
; Text="Win Rate: %1%"
; AntiAlias=1
; NumOfDecimals=2

[MeterHero]
Meter=String
MeasureName=MeasureHero
X=105
Y=83
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="Most played hero: %1"
AntiAlias=1
