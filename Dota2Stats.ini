[Rainmeter]
Author=bo1g
Update=1000

[Metadata]
Name=Dota2Stats
Information=Display Dota 2 stats
License=None
Version=1.1

[Variables]

; Go to http://stats.dota2.be/
; Search for your username stats page
; Paste the URL below

URL="http://stats.dota2.be/player/80817886"

; Below is the font color in hex code. '111111' is good for dark text and 'ffffff' is the default white.

Color=ffffff

; --------------------------------
; Do not edit beyond this point!
; --------------------------------

LocalFont="#SKINSPATH#Dota2Stats\Fonts\Cardo104s.ttf"
Font="Cardo"

; --------------------------------
; Measures
; --------------------------------

[MeasureUsername]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)<div id="playername" .*<span.*>(.*)</span>'
StringIndex=1

[MeasureWins]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)Games won: (.*)<br>'
StringIndex=1

[MeasureGames]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)Games played: (.*)<br>'
StringIndex=1

[MeasureWinRate]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=#URL#
RegExp='(?siU)Win rate: (.*)</div>'
StringIndex=1

[MeasureHero]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)<table id="playerheroes".*<tbody><tr><td><img style="width:40px;" src="http://stats.dota2.be/img/heroes/75px-(.*).png"'
StringIndex=1

[MeasureLosses]
Measure=calc
Formula=MeasureGames-MeasureWins

; --------------------------------
; Meters
; --------------------------------

[MeterLogo]
Meter=Image
X=1
Y=1
ImageName=Images\dota2.png
LeftMouseUpAction=!Execute ["#URL#"]

[MeterName]
MeasureName=MeasureUsername
Meter=String
X=99
Y=-12
FontColor=#Color#
FontSize=40
Text="%1"
FontFace=#Font#
AntiAlias=1
StringCase=UPPER

[MeterGames]
Meter=String
MeasureName=MeasureGames
X=105
Y=45
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="%1 Games Played"
AntiAlias=1

[MeterWinsLosses]
Meter=String
MeasureName=MeasureWins
MeasureName2=MeasureLosses
X=105
Y=64
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="%1 Wins / %2 Losses"
AntiAlias=1

[MeterWinRate]
Meter=String
MeasureName=MeasureWinRate
X=105
Y=83
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="Win Rate: %1"
AntiAlias=1

;Below does not yet work
;[MeterHero]
;Meter=String
;MeasureName=MeasureHero
;X=105
;Y=83
;FontColor=#Color#
;FontFace=#Font#
;FontSize=12
;Text="Most played hero: %1"
;AntiAlias=1
