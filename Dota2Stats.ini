[Rainmeter]
Author=bo1g
Update=1000

[Metadata]
Name=Dota2Stats
Information=Display Dota 2 stats
License=None
Version=1.1

[Variables]

; This skin uses the data obtained through Dota2Stats at http://stats.dota2.be/.

; --------------------------------
; Setup
; --------------------------------

; Go to https://dotabuff.com/
; Search for your username stats page
; Paste the URL below

URL="https://dotabuff.com/players/80817886"

; Below is the font color in hex code. '111111' is good for dark text and 'ffffff' is the default white.

Color=ffffff

; --------------------------------
; Do not edit beyond this point!
; --------------------------------

LocalFont="#SKINSPATH#Dota2Stats\Fonts\Cardo104s.ttf"
Font="Cardo"

; --------------------------------
; Measures
; --------------------------------

[MeasureUsername]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)<div class="image-container image-container-avatar image-container-player"><a href=".*"><img alt="(.*)" class="image-avatar image-player"'
StringIndex=1

[MeasureLevel]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)<dl><dt>Level</dt><dd><div>(.*)</div></dd></dl>'
StringIndex=1

[MeasureWins]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)<span class="won">(.*)</span>'
StringIndex=1

[MeasureLosses]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=600
Url=#URL#
RegExp='(?siU)<span class="lost">(.*)</span>'
StringIndex=1

[MeasureWinRate]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=#URL#
RegExp='(?siU)<dl><dt>Win Rate</dt><dd><div>(.*)</div></dd></dl>'
StringIndex=1

;Still can't get this to work
;[MeasureHero]
;Measure=Plugin
;Plugin=Plugins\WebParser.dll
;UpdateRate=600
;Url=#URL#
;RegExp='(?siU)<section><header>Most Played Heroes<small>All Time</small></header>.*<article><table><thead><tr><th colspan="2">Hero</th><th class="cell-large">Matches</th><th class="cell-large">Wins</th><th class="cell-large">Win Chance</th></tr></thead><tbody><tr><td class="cell-icon"><div class="image-container image-container-icon image-container-hero"><a href="/heroes/.*"><img alt="(.*)" class="image-icon image-hero" data-tooltip-url="/heroes/'
;StringIndex=1

[MeasureGames]
Measure=calc
Formula=MeasureWins+MeasureLosses

; --------------------------------
; Meters
; --------------------------------

[MeterLogo]
Meter=Image
X=1
Y=1
ImageName=Images\dota2.png
LeftMouseUpAction=!Execute ["#URL#"]

[MeterName]
MeasureName=MeasureUsername
Meter=String
X=99
Y=-12
FontColor=#Color#
FontSize=40
Text="%1"
FontFace=#Font#
AntiAlias=1
StringCase=UPPER

[MeterLevel]
Meter=String
MeasureName=MeasureLevel
X=105
Y=45
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="Level %1"
AntiAlias=1

;This row was removed for the level row. Un-comment below and comment above to use the game count row again.
;[MeterGames]
;Meter=String
;MeasureName=MeasureGames
;X=105
;Y=45
;FontColor=#Color#
;FontFace=#Font#
;FontSize=12
;Text="%1 Games Played"
;AntiAlias=1

[MeterWinsLosses]
Meter=String
MeasureName=MeasureWins
MeasureName2=MeasureLosses
X=105
Y=64
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="%1 Wins / %2 Losses"
AntiAlias=1

[MeterWinRate]
Meter=String
MeasureName=MeasureWinRate
X=105
Y=83
FontColor=#Color#
FontFace=#Font#
FontSize=12
Text="Win Rate: %1"
AntiAlias=1

;Still can't get this to work
;[MeterHero]
;Meter=String
;MeasureName=MeasureHero
;X=105
;Y=102
;FontColor=#Color#
;FontFace=#Font#
;FontSize=12
;Text="Most played hero: %1"
;AntiAlias=1
